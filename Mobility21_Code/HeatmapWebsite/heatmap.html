<!DOCTYPE html>
<html>

<head> 
	<title> Google Maps </title>
</head>

	<h1>  		    Pittsburgh Roads - CAVs Risk Heat Map </h1>

<head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 90%;
        width: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #floating-panel {
        position: relative;
        top: 10px;
        right: 25px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }
      #floating-panel {
        background-color: #fff;
        border: 1px solid #999;
        <!left: 25%;>
        right: 25px;
        padding: 5px;
        position: absolute;
        top: 20px;
        z-index: 5;
      }
    </style>
  </head>

<body>
	<div id="floating-panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map"></div>
    <script>


	// <div id="googleMap" style="width:100%;height:400px;"></div>


      // This example requires the Visualization library. Include the libraries=visualization
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization">

      var map, heatmap;

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 17,
          center: {lat: 40.443542, lng: -79.943967},
          mapTypeId: 'satellite'
        });

        heatmap = new google.maps.visualization.HeatmapLayer({
          data: getPoints(),
          map: map
        });

      var marker = new google.maps.Marker({
      	position: {lat: 40.444599, lng: -79.944528},
      	map: map, 
      	icon: 'invisible_marker.png',
      	title: 'Road Name: Forbes Avenue \nRoad Type: One-Way \nRisk Level: 5'

      });
var contentString1 = '<div id="content">'+
            '<div id="siteNotice">'+
            '</div>'+
            '<h1 id="firstHeading" class="firstHeading">Forbes Avenue</h1>'+
            '<div id="bodyContent">'+
            '<p><b>Uluru</b>, is located near Carnegie Mellon University.' +
            'south west of the nearest large town, Alice Springs; 450&#160;km '+
            'Aboriginal people of the area. It has many springs, waterholes, '+
            'Heritage Site.</p>'+
            '<p>Attribution: More info can be found here <a href="http://www.andrew.cmu.edu/user/dingzhao/">'+
            'Safe AI Lab< /a>'+
            '.</p>'+
            '</div>'+
            '</div>';

        var contentString =  
        '<div id="content">'+
            '<div id="siteNotice">'+
            '</div>'+
        '<h2 id="firstHeading" class="firstHeading">Forbes Avenue</h2>'+

        '<div id="bodyContent">'+
            '<p> <b>Forbes Ave</b>, is located near CMU. \n'+ 
            'It is a two lane road with width of approximately 30 feet. </p>' + 
          + '<img src = "logo.png" style="width:200px;height:200px;" >' +
          '<p>Attribution: More info can be found here <a href="http://www.andrew.cmu.edu/user/dingzhao/">' + 'Safe AI Lab.</p>' +
        '</div>'
        + '</div>';

        var infowindow = new google.maps.InfoWindow({
          content: "<div> <img src = 'pattern.png' height = 200''></div><div><b>Forbes Avenue</b><br/>Located Near Carnegie Mellon <br/> Pittsburgh</div><p>More info can be found here <a href='http://www.andrew.cmu.edu/user/dingzhao/'> Safe AI Lab. </p>"
        });

        marker.addListener('click', function() {
          infowindow.open(map, marker);
        });
      }


      function toggleHeatmap() {
        heatmap.setMap(heatmap.getMap() ? null : map);
      }

      function changeGradient() {
        var gradient = [
          'rgba(0, 255, 255, 0)',
          'rgba(0, 255, 255, 1)',
          'rgba(0, 191, 255, 1)',
          'rgba(0, 127, 255, 1)',
          'rgba(0, 63, 255, 1)',
          'rgba(0, 0, 255, 1)',
          'rgba(0, 0, 223, 1)',
          'rgba(0, 0, 191, 1)',
          'rgba(0, 0, 159, 1)',
          'rgba(0, 0, 127, 1)',
          'rgba(63, 0, 91, 1)',
          'rgba(127, 0, 63, 1)',
          'rgba(191, 0, 31, 1)',
          'rgba(255, 0, 0, 1)'
        ]
        heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
      }

      function changeRadius() {
        heatmap.set('radius', heatmap.get('radius') ? null : 30);
      }

      function changeOpacity() {
        heatmap.set('opacity', heatmap.get('opacity') ? null : 0.5);
      }

      // Heatmap data: 500 Points
      function getPoints() {
        return [
        {location: new google.maps.LatLng(40.444599, -79.944528), weight: 4},
        {location: new google.maps.LatLng(40.444644, -79.944396), weight: 4},
        {location: new google.maps.LatLng(40.444648, -79.944614), weight: 4},
        {location: new google.maps.LatLng(40.444632, -79.945000), weight: 4},
        {location: new google.maps.LatLng(40.444632, -79.945151), weight: 4},

        {location: new google.maps.LatLng(40.444563, -79.945568), weight: 4},
        {location: new google.maps.LatLng(40.444559, -79.945761), weight: 4}, 
        {location: new google.maps.LatLng(40.444551, -79.945938), weight: 4}, 

        {location: new google.maps.LatLng(40.444661, -79.943662), weight: 4}, 
        
        {location: new google.maps.LatLng(40.444636, -79.944288), weight: 4},
        {location: new google.maps.LatLng(40.44461, -79.944915), weight: 4},
        {location: new google.maps.LatLng(40.444584, -79.945541), weight: 4},
        {location: new google.maps.LatLng(40.444559, -79.946168), weight: 4},
        {location: new google.maps.LatLng(40.444533, -79.946795), weight: 4},
        
        {location: new google.maps.LatLng(40.444508, -79.947421), weight: 4},
        {location: new google.maps.LatLng(40.444533, -79.946795), weight: 4},
        
        {location: new google.maps.LatLng(40.444483, -79.948048), weight: 4},

        {location: new google.maps.LatLng(40.444543, -79.946496), weight: 4},

        ];
      }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBJPraSPJm1OdgwKxF_2wLBLby922j2TvI&libraries=visualization&callback=initMap">
    </script>

</body>

</html>


